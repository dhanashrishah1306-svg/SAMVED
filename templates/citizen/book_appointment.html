<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment - SAKSHI</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Add your custom styles from Bootstrap-based form */
        .main-card { border: 1px solid #dcdcdc; border-radius: 6px; padding: 20px; }
        .step { display: none; }
        .step.active { display: block; }
        .section-title { font-weight: 600; margin-bottom: 12px; }
        .list-box { border: 1px solid #cfd4da; border-radius: 4px; max-height: 220px; overflow-y: auto; }
        .list-item { padding: 12px; border-bottom: 1px solid #dee2e6; cursor: pointer; }
        .list-item:last-child { border-bottom: none; }
        .list-item:hover { background: #f1f5ff; }
        .list-item.active { background: #0b5ed7; color: #fff; font-weight: 600; }
        .taluka-box { border: 1px solid #cfd4da; background: #fff; padding: 18px; text-align: center; font-weight: 600; cursor: pointer; border-radius: 4px; }
        .taluka-box:hover { background: #0b5ed7; color: #fff; border-color: #0b5ed7; }
        .nav-buttons { margin-top: 20px; display: flex; justify-content: space-between; }
    </style>
</head>
<body>
    
    <!-- ================= SAKSHI BRAND STRIP ================= -->
    <section class="sakshi-strip">
        <div class="container">
            <div class="sakshi-row">

                <!-- LEFT -->
                <div class="sakshi-left">
                    Solapur Municipal Corporation<br>
                    <small>Health Department</small>
                </div>

                <!-- CENTER -->
                <div class="sakshi-center">
                    <div class="sakshi-name">SAKSHI</div>
                    <div class="sakshi-tagline">
                        Swasthya Abhiyan Kalyan Seva Healthcare Initiative
                    </div>
                </div>

                <!-- RIGHT -->
                <div class="sakshi-right">
                    <button onclick="toggleLanguage()" class="strip-btn">EN | मराठी</button>
                    <button onclick="toggleContrast()" class="strip-btn">Accessibility</button>
                </div>

            </div>
        </div>
    </section>

    <!-- ================= NAVBAR ================= -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">

            <!-- Left: Navigation -->
            <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#mainNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 nav-icons">

                    <li class="nav-item">
                        <a class="nav-link active" href="{{ url_for('home') }}">
                            <i class="bi bi-house"></i> Home
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('about') }}">
                            <i class="bi bi-info-circle"></i> About
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('contact') }}">
                            <i class="bi bi-telephone"></i> Contact
                        </a>
                    </li>

                </ul>

                <!-- Right: Action Buttons -->
                <div class="d-flex gap-2">
                    <a href="#" class="btn btn-outline-primary btn-sm">
                        <i class="bi bi-box-arrow-in-right"></i> Login
                    </a>

                    <a href="#" class="btn btn-success btn-sm emergency-btn">
                        <i class="bi bi-exclamation-triangle"></i> Emergency
                    </a>
                </div>
            </div>
        </div>
    </nav>


    <div class="container mt-4 mb-5">
        <div class="card main-card shadow-sm p-4">

            <!-- STEP 0 : TALUKA -->
            <div class="step active">
                <div class="section-title">Select Taluka</div>
                <div class="row g-3">
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('North Solapur')">North Solapur</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Malshiras')">Malshiras</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Pandharpur')">Pandharpur</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Barshi')">Barshi</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Madha')">Madha</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Sangole')">Sangole</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Akkalkot')">Akkalkot</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Mohol')">Mohol</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Solapur South')">Solapur South</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Karmala')">Karmala</div></div>
                    <div class="col-md-6"><div class="taluka-box" onclick="selectTaluka('Mangalvedhe')">Mangalvedhe</div></div>
                </div>
            </div>

            <!-- STEP 1 : HOSPITAL -->
            <div class="step">
                <div class="section-title">Select Hospital</div>
                <div class="list-box">
                    <div class="list-item" onclick="selectItem(this)">District Civil Hospital</div>
                    <div class="list-item" onclick="selectItem(this)">Rural Hospital</div>
                    <div class="list-item" onclick="selectItem(this)">Sub District Hospital</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="nextStep()">Next</button>
                </div>
            </div>

            <!-- STEP 2 : APPOINTMENT TYPE -->
            <div class="step">
                <div class="section-title">Appointment Type</div>
                <div class="list-box">
                    <div class="list-item" onclick="selectItem(this)">New (Fresh) Appointment</div>
                    <div class="list-item" onclick="selectItem(this)">Follow-up Appointment</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="nextStep()">Next</button>
                </div>
            </div>

            <!-- STEP 3 : DEPARTMENT -->
            <div class="step">
                <div class="section-title">Select Department</div>
                <div class="list-box">
                    <div class="list-item" onclick="selectItem(this)">General Medicine</div>
                    <div class="list-item" onclick="selectItem(this)">Orthopedics</div>
                    <div class="list-item" onclick="selectItem(this)">ENT</div>
                    <div class="list-item" onclick="selectItem(this)">Gynecology</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="nextStep()">Next</button>
                </div>
            </div>

            <!-- STEP 4 : DOCTOR -->
            <div class="step">
                <div class="section-title">Select Doctor</div>
                <div class="list-box">
                    <div class="list-item" onclick="selectItem(this)">Dr. A. Patil</div>
                    <div class="list-item" onclick="selectItem(this)">Dr. S. Deshmukh</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="nextStep()">Next</button>
                </div>
            </div>

            <!-- STEP 5 : SLOT -->
            <div class="step">
                <div class="section-title">Select Time Slot</div>
                <div class="list-box">
                    <div class="list-item" onclick="selectItem(this)">09:00 – 09:30</div>
                    <div class="list-item" onclick="selectItem(this)">10:00 – 10:30</div>
                    <div class="list-item" onclick="selectItem(this)">11:00 – 11:30</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="nextStep()">Next</button>
                </div>
            </div>

            <!-- STEP 6 : CURE CODE -->
            <div class="step">
                <div class="section-title">Enter Patient CURE Code</div>
                <input type="text" class="form-control" placeholder="CURE Code ID">
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                    <button class="btn btn-success" onclick="confirmBooking()">Confirm Appointment</button>
                </div>
            </div>

        </div>
    </div>

    <!-- SUCCESS MODAL -->
    <div class="modal fade" id="successModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center">
                    <h5 class="text-success">Appointment Booked Successfully</h5>
                    <p class="text-muted">SMS sent to <b>8956303473</b></p>
                    <button class="btn btn-primary mt-2" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <p class="mb-1">Solapur Municipal Corporation – Health Department</p>
            <small>Hackathon: <strong>SAMVED</strong> | Team: <strong>CareNova</strong></small>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentStep = 0;
        const steps = document.querySelectorAll(".step");

        function showStep(i) {
            steps.forEach(s => s.classList.remove("active"));
            steps[i].classList.add("active");
        }

        function nextStep() { if (currentStep < steps.length - 1) { currentStep++; showStep(currentStep); } }
        function prevStep() { if (currentStep > 0) { currentStep--; showStep(currentStep); } }

        function selectTaluka(name) { console.log("Taluka:", name); nextStep(); }

        function selectItem(el) {
            el.parentElement.querySelectorAll('.list-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
        }

        function confirmBooking() {
            new bootstrap.Modal(document.getElementById("successModal")).show();
        }
    </script>
</body>
</html>
